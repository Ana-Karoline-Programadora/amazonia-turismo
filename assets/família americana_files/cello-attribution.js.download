var J,f,bn,Ln,W,Mn,be,kn,ie={},wn=[],tr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(e,n){for(var r in n)e[r]=n[r];return e}function Gn(e){var n=e.parentNode;n&&n.removeChild(e)}function Ee(e,n,r){var a,o,t,s={};for(t in n)t=="key"?a=n[t]:t=="ref"?o=n[t]:s[t]=n[t];if(arguments.length>2&&(s.children=arguments.length>3?J.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(t in e.defaultProps)s[t]===void 0&&(s[t]=e.defaultProps[t]);return y(e,s,a,o,null)}function y(e,n,r,a,o){var t={type:e,props:n,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++bn:o};return o==null&&f.vnode!=null&&f.vnode(t),t}function or(){return{current:null}}function q(e){return e.children}function Y(e,n){this.props=e,this.context=n}function V(e,n){if(n==null)return e.__?V(e.__,e.__.__k.indexOf(e)+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?V(e):null}function Cn(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Cn(e)}}function he(e){(!e.__d&&(e.__d=!0)&&W.push(e)&&!se.__r++||be!==f.debounceRendering)&&((be=f.debounceRendering)||Mn)(se)}function se(){for(var e;se.__r=W.length;)e=W.sort(function(n,r){return n.__v.__b-r.__v.__b}),W=[],e.some(function(n){var r,a,o,t,s,c;n.__d&&(s=(t=(r=n).__v).__e,(c=r.__P)&&(a=[],(o=k({},t)).__v=t.__v+1,Re(c,t,o,r.__n,c.ownerSVGElement!==void 0,t.__h!=null?[s]:null,a,s==null?V(t):s,t.__h),Kn(a,t),t.__e!=s&&Cn(t)))})}function Bn(e,n,r,a,o,t,s,c,_,p){var i,A,u,l,d,R,E,h=a&&a.__k||wn,g=h.length;for(r.__k=[],i=0;i<n.length;i++)if((l=r.__k[i]=(l=n[i])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?y(null,l,null,null,l):Array.isArray(l)?y(q,{children:l},null,null,null):l.__b>0?y(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=r,l.__b=r.__b+1,(u=h[i])===null||u&&l.key==u.key&&l.type===u.type)h[i]=void 0;else for(A=0;A<g;A++){if((u=h[A])&&l.key==u.key&&l.type===u.type){h[A]=void 0;break}u=null}Re(e,l,u=u||ie,o,t,s,c,_,p),d=l.__e,(A=l.ref)&&u.ref!=A&&(E||(E=[]),u.ref&&E.push(u.ref,null,l),E.push(A,l.__c||d,l)),d!=null?(R==null&&(R=d),typeof l.type=="function"&&l.__k===u.__k?l.__d=_=Un(l,_,e):_=Hn(e,l,u,h,d,_),typeof r.type=="function"&&(r.__d=_)):_&&u.__e==_&&_.parentNode!=e&&(_=V(u))}for(r.__e=R,i=g;i--;)h[i]!=null&&(typeof r.type=="function"&&h[i].__e!=null&&h[i].__e==r.__d&&(r.__d=V(a,i+1)),Fn(h[i],h[i]));if(E)for(i=0;i<E.length;i++)Vn(E[i],E[++i],E[++i])}function Un(e,n,r){for(var a,o=e.__k,t=0;o&&t<o.length;t++)(a=o[t])&&(a.__=e,n=typeof a.type=="function"?Un(a,n,r):Hn(r,a,a,o,a.__e,n));return n}function xn(e,n){return n=n||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(r){xn(r,n)}):n.push(e)),n}function Hn(e,n,r,a,o,t){var s,c,_;if(n.__d!==void 0)s=n.__d,n.__d=void 0;else if(r==null||o!=t||o.parentNode==null)e:if(t==null||t.parentNode!==e)e.appendChild(o),s=null;else{for(c=t,_=0;(c=c.nextSibling)&&_<a.length;_+=2)if(c==o)break e;e.insertBefore(o,t),s=t}return s!==void 0?s:o.nextSibling}function ir(e,n,r,a,o){var t;for(t in r)t==="children"||t==="key"||t in n||ce(e,t,null,r[t],a);for(t in n)o&&typeof n[t]!="function"||t==="children"||t==="key"||t==="value"||t==="checked"||r[t]===n[t]||ce(e,t,n[t],r[t],a)}function Le(e,n,r){n[0]==="-"?e.setProperty(n,r):e[n]=r==null?"":typeof r!="number"||tr.test(n)?r:r+"px"}function ce(e,n,r,a,o){var t;e:if(n==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(n in a)r&&n in r||Le(e.style,n,"");if(r)for(n in r)a&&r[n]===a[n]||Le(e.style,n,r[n])}else if(n[0]==="o"&&n[1]==="n")t=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+t]=r,r?a||e.addEventListener(n,t?ke:Me,t):e.removeEventListener(n,t?ke:Me,t);else if(n!=="dangerouslySetInnerHTML"){if(o)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||n[0]==="a"&&n[1]==="r")?e.setAttribute(n,r):e.removeAttribute(n))}}function Me(e){this.l[e.type+!1](f.event?f.event(e):e)}function ke(e){this.l[e.type+!0](f.event?f.event(e):e)}function Re(e,n,r,a,o,t,s,c,_){var p,i,A,u,l,d,R,E,h,g,I,T=n.type;if(n.constructor!==void 0)return null;r.__h!=null&&(_=r.__h,c=n.__e=r.__e,n.__h=null,t=[c]),(p=f.__b)&&p(n);try{e:if(typeof T=="function"){if(E=n.props,h=(p=T.contextType)&&a[p.__c],g=p?h?h.props.value:p.__:a,r.__c?R=(i=n.__c=r.__c).__=i.__E:("prototype"in T&&T.prototype.render?n.__c=i=new T(E,g):(n.__c=i=new Y(E,g),i.constructor=T,i.render=cr),h&&h.sub(i),i.props=E,i.state||(i.state={}),i.context=g,i.__n=a,A=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),T.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=k({},i.__s)),k(i.__s,T.getDerivedStateFromProps(E,i.__s))),u=i.props,l=i.state,A)T.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(T.getDerivedStateFromProps==null&&E!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(E,g),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(E,i.__s,g)===!1||n.__v===r.__v){i.props=E,i.state=i.__s,n.__v!==r.__v&&(i.__d=!1),i.__v=n,n.__e=r.__e,n.__k=r.__k,n.__k.forEach(function(O){O&&(O.__=n)}),i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(E,i.__s,g),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,l,d)})}i.context=g,i.props=E,i.state=i.__s,(p=f.__r)&&p(n),i.__d=!1,i.__v=n,i.__P=e,p=i.render(i.props,i.state,i.context),i.state=i.__s,i.getChildContext!=null&&(a=k(k({},a),i.getChildContext())),A||i.getSnapshotBeforeUpdate==null||(d=i.getSnapshotBeforeUpdate(u,l)),I=p!=null&&p.type===q&&p.key==null?p.props.children:p,Bn(e,Array.isArray(I)?I:[I],n,r,a,o,t,s,c,_),i.base=n.__e,n.__h=null,i.__h.length&&s.push(i),R&&(i.__E=i.__=null),i.__e=!1}else t==null&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=sr(r.__e,n,r,a,o,t,s,_);(p=f.diffed)&&p(n)}catch(O){n.__v=null,(_||t!=null)&&(n.__e=c,n.__h=!!_,t[t.indexOf(c)]=null),f.__e(O,n,r)}}function Kn(e,n){f.__c&&f.__c(n,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){f.__e(a,r.__v)}})}function sr(e,n,r,a,o,t,s,c){var _,p,i,A=r.props,u=n.props,l=n.type,d=0;if(l==="svg"&&(o=!0),t!=null){for(;d<t.length;d++)if((_=t[d])&&(_===e||(l?_.localName==l:_.nodeType==3))){e=_,t[d]=null;break}}if(e==null){if(l===null)return document.createTextNode(u);e=o?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,u.is&&u),t=null,c=!1}if(l===null)A===u||c&&e.data===u||(e.data=u);else{if(t=t&&J.call(e.childNodes),p=(A=r.props||ie).dangerouslySetInnerHTML,i=u.dangerouslySetInnerHTML,!c){if(t!=null)for(A={},d=0;d<e.attributes.length;d++)A[e.attributes[d].name]=e.attributes[d].value;(i||p)&&(i&&(p&&i.__html==p.__html||i.__html===e.innerHTML)||(e.innerHTML=i&&i.__html||""))}if(ir(e,u,A,o,c),i)n.__k=[];else if(d=n.props.children,Bn(e,Array.isArray(d)?d:[d],n,r,a,o&&l!=="foreignObject",t,s,t?t[0]:r.__k&&V(r,0),c),t!=null)for(d=t.length;d--;)t[d]!=null&&Gn(t[d]);c||("value"in u&&(d=u.value)!==void 0&&(d!==e.value||l==="progress"&&!d)&&ce(e,"value",d,A.value,!1),"checked"in u&&(d=u.checked)!==void 0&&d!==e.checked&&ce(e,"checked",d,A.checked,!1))}return e}function Vn(e,n,r){try{typeof e=="function"?e(n):e.current=n}catch(a){f.__e(a,r)}}function Fn(e,n,r){var a,o;if(f.unmount&&f.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||Vn(a,null,n)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(t){f.__e(t,n)}a.base=a.__P=null}if(a=e.__k)for(o=0;o<a.length;o++)a[o]&&Fn(a[o],n,typeof e.type!="function");r||e.__e==null||Gn(e.__e),e.__e=e.__d=void 0}function cr(e,n,r){return this.constructor(e,r)}function Oe(e,n,r){var a,o,t;f.__&&f.__(e,n),o=(a=typeof r=="function")?null:r&&r.__k||n.__k,t=[],Re(n,e=(!a&&r||n).__k=Ee(q,null,[e]),o||ie,ie,n.ownerSVGElement!==void 0,!a&&r?[r]:o?null:n.firstChild?J.call(n.childNodes):null,t,!a&&r?r:o?o.__e:n.firstChild,a),Kn(t,e)}function $n(e,n){Oe(e,n,$n)}function lr(e,n,r){var a,o,t,s=k({},e.props);for(t in n)t=="key"?a=n[t]:t=="ref"?o=n[t]:s[t]=n[t];return arguments.length>2&&(s.children=arguments.length>3?J.call(arguments,2):r),y(e.type,s,a||e.key,o||e.ref,null)}function Wn(e,n){var r={__c:n="__cC"+kn++,__:e,Consumer:function(a,o){return a.children(o)},Provider:function(a){var o,t;return this.getChildContext||(o=[],(t={})[n]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(he)},this.sub=function(s){o.push(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),c&&c.call(s)}}),a.children}};return r.Provider.__=r.Consumer.contextType=r}J=wn.slice,f={__e:function(e,n){for(var r,a,o;n=n.__;)if((r=n.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},bn=0,Ln=function(e){return e!=null&&e.constructor===void 0},Y.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof e=="function"&&(e=e(k({},r),this.props)),e&&k(r,e),e!=null&&this.__v&&(n&&this.__h.push(n),he(this))},Y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),he(this))},Y.prototype.render=q,W=[],Mn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,se.__r=0,kn=0;var _r=Object.freeze(Object.defineProperty({__proto__:null,render:Oe,hydrate:$n,createElement:Ee,h:Ee,Fragment:q,createRef:or,get isValidElement(){return Ln},Component:Y,cloneElement:lr,createContext:Wn,toChildArray:xn,get options(){return f}},Symbol.toStringTag,{value:"Module"})),Q,b,we,z=0,ge=[],Ge=f.__b,Ce=f.__r,Be=f.diffed,Ue=f.__c,xe=f.unmount;function de(e,n){f.__h&&f.__h(b,e,z||n),z=0;var r=b.__H||(b.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Te(e){return z=1,yn(jn,e)}function yn(e,n,r){var a=de(Q++,2);return a.t=e,a.__c||(a.__=[r?r(n):jn(void 0,n),function(o){var t=a.t(a.__[0],o);a.__[0]!==t&&(a.__=[t,a.__[1]],a.__c.setState({}))}],a.__c=b),a.__}function H(e,n){var r=de(Q++,3);!f.__s&&Yn(r.__H,n)&&(r.__=e,r.__H=n,b.__H.__h.push(r))}function dr(e){return z=5,ue(function(){return{current:e}},[])}function ue(e,n){var r=de(Q++,7);return Yn(r.__H,n)&&(r.__=e(),r.__H=n,r.__h=e),r.__}function K(e,n){return z=8,ue(function(){return e},n)}function ve(e){var n=b.context[e.__c],r=de(Q++,9);return r.c=e,n?(r.__==null&&(r.__=!0,n.sub(b)),n.props.value):e.__}function ur(){ge.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(te),e.__H.__h.forEach(Ae),e.__H.__h=[]}catch(n){e.__H.__h=[],f.__e(n,e.__v)}}),ge=[]}f.__b=function(e){b=null,Ge&&Ge(e)},f.__r=function(e){Ce&&Ce(e),Q=0;var n=(b=e.__c).__H;n&&(n.__h.forEach(te),n.__h.forEach(Ae),n.__h=[])},f.diffed=function(e){Be&&Be(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(ge.push(n)!==1&&we===f.requestAnimationFrame||((we=f.requestAnimationFrame)||function(r){var a,o=function(){clearTimeout(t),He&&cancelAnimationFrame(a),setTimeout(r)},t=setTimeout(o,100);He&&(a=requestAnimationFrame(o))})(ur)),b=null},f.__c=function(e,n){n.some(function(r){try{r.__h.forEach(te),r.__h=r.__h.filter(function(a){return!a.__||Ae(a)})}catch(a){n.some(function(o){o.__h&&(o.__h=[])}),n=[],f.__e(a,r.__v)}}),Ue&&Ue(e,n)},f.unmount=function(e){xe&&xe(e);var n=e.__c;if(n&&n.__H)try{n.__H.__.forEach(te)}catch(r){f.__e(r,n.__v)}};var He=typeof requestAnimationFrame=="function";function te(e){var n=b;typeof e.__c=="function"&&e.__c(),b=n}function Ae(e){var n=b;e.__c=e.__(),b=n}function Yn(e,n){return!e||e.length!==n.length||n.some(function(r,a){return r!==e[a]})}function jn(e,n){return typeof n=="function"?n(e):n}const zn={productId:null,ucc:null,name:null,nameEncodedRawValue:null,productLandingData:null,gclid:null,isSearchEngineReferrer:null,customCookiesPolicyConsent:null,dispatchToAppContext:()=>{}},pe=Wn(zn);var S=(e=>(e.updateProductId="UPDATE_PRODUCT_ID",e.updateUcc="UPDATE_UCC",e.updateName="UPDATE_NAME",e.updateSearchEngineReferrer="UPDATE_SEARCH_ENGINE_REFERRER",e.updateQueryParamsData="UPDATE_QUERY_PARAMS_DATA",e.updateProductLandingData="UPDATE_PRODUCT_LANDING_DATA",e.updateCustomCookiesPolicyConsent="UPDATE_CUSTOM_COOKIES_POLICY_CONSENT",e))(S||{});function pr(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var fr=pr(_r),Zn,Jn,Ke=fr,mr=0;function Ve(e,n,r,a,o){var t,s,c={};for(s in n)s=="ref"?t=n[s]:c[s]=n[s];var _={type:e,props:c,key:r,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--mr,__source:a,__self:o};if(typeof e=="function"&&(t=e.defaultProps))for(s in t)c[s]===void 0&&(c[s]=t[s]);return Ke.options.vnode&&Ke.options.vnode(_),_}Jn=Ve,Zn=Ve;const P=Jn,Fe=Zn,Er=(e,n)=>{switch(n.type){case S.updateProductId:return{...e,productId:n.payload};case S.updateUcc:return{...e,ucc:n.payload};case S.updateName:return{...e,name:n.payload};case S.updateSearchEngineReferrer:return{...e,isSearchEngineReferrer:n.payload};case S.updateQueryParamsData:return{...e,productId:n.payload.productId,ucc:n.payload.ucc,name:n.payload.name,nameEncodedRawValue:n.payload.nameEncodedRawValue,gclid:n.payload.gclid};case S.updateProductLandingData:return{...e,productLandingData:n.payload};case S.updateCustomCookiesPolicyConsent:return{...e,customCookiesPolicyConsent:n.payload};default:return e}},hr=({children:e})=>{const[n,r]=yn(Er,zn),a=ue(()=>({...n,dispatchToAppContext:r}),[n,r]);return P(pe.Provider,{value:a,children:e})},gr=()=>P("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P("path",{d:"M16.6668 8.27398L15.7268 7.33398L12.0002 11.0607L8.2735 7.33398L7.3335 8.27398L11.0602 12.0007L7.3335 15.7273L8.2735 16.6673L12.0002 12.9407L15.7268 16.6673L16.6668 15.7273L12.9402 12.0007L16.6668 8.27398Z",fill:"currentColor"})}),F={BANNER_NODE_ID:"cello-banner",API_URL:"https://share.cello.so/api",ANALYTICS_API_URL:"https://share.cello.so/api-analytics",LOGGING_ENABLED:Boolean({}.VITE_ATTRIBUTION_LOGGING_ENABLED)},Ar=()=>P("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","data-testid":"banner-icon",style:{minWidth:"20px"},children:P("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.17408C9.5233 3.31533 8.7043 2.5 7.39844 2.5C6.0393 2.5 4.9375 3.5913 4.9375 4.9375C4.9375 5.42074 5.07948 5.87114 5.32437 6.25H4C3.17157 6.25 2.5 6.92157 2.5 7.75V9.625C2.5 10.4535 3.17157 11.125 4 11.125V16C4 16.8285 4.67157 17.5 5.5 17.5H14.5C15.3285 17.5 16 16.8285 16 16V11.125C16.8285 11.125 17.5 10.4535 17.5 9.625V7.75C17.5 6.92157 16.8285 6.25 16 6.25H14.6756C14.9205 5.87114 15.0625 5.42074 15.0625 4.9375C15.0625 3.5913 13.9607 2.5 12.6016 2.5C11.2957 2.5 10.4767 3.31533 10 4.17408ZM6.0625 4.9375C6.0625 5.65225 6.65045 6.25 7.39844 6.25H9.4375V5.98214V5.98204C9.43743 5.97948 9.43555 5.92917 9.4177 5.82827C9.40053 5.73109 9.37225 5.60804 9.33025 5.4684C9.24535 5.18613 9.11365 4.86764 8.93148 4.57582C8.57005 3.99716 8.09046 3.625 7.39844 3.625C6.65045 3.625 6.0625 4.22275 6.0625 4.9375ZM10.5625 7.375V10H16C16.2071 10 16.375 9.83208 16.375 9.625V7.75C16.375 7.5429 16.2071 7.375 16 7.375H10.5625ZM9.4375 7.375H4C3.79289 7.375 3.625 7.5429 3.625 7.75V9.625C3.625 9.83208 3.79289 10 4 10H9.4375V7.375ZM13.9375 4.9375C13.9375 5.65225 13.3496 6.25 12.6016 6.25H10.5625V5.98214V5.98204C10.5626 5.97948 10.5644 5.92917 10.5823 5.82827C10.5995 5.73109 10.6277 5.60804 10.6698 5.4684C10.7547 5.18613 10.8863 4.86764 11.0685 4.57582C11.4299 3.99716 11.9096 3.625 12.6016 3.625C13.3496 3.625 13.9375 4.22275 13.9375 4.9375ZM9.4375 11.125H5.125V16C5.125 16.2071 5.2929 16.375 5.5 16.375H9.4375V11.125ZM10.5625 16.375H14.5C14.7071 16.375 14.875 16.2071 14.875 16V11.125H10.5625V16.375Z",fill:"currentColor"})}),$e=(e,n={})=>{let r=e;for(const[a,o]of Object.entries(n))r=r.replace(new RegExp(`{{${a}}}`,"g"),`${o}`);return r};var w;(function(e){e.Disabled="disabled",e.OneTrust="oneTrust",e.Custom="custom"})(w||(w={}));var We;(function(e){e.TOP="top",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.LEFT="left",e.RIGHT="right"})(We||(We={}));var ye;(function(e){e.TOP="top",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.LEFT="left",e.RIGHT="right",e.OFF="off"})(ye||(ye={}));var Ye;(function(e){e.SOURCE="utm_source",e.MEDIUM="utm_medium",e.CAMPAIGN="utm_campaign",e.TERM="utm_term",e.CONTENT="utm_content"})(Ye||(Ye={}));var je;(function(e){e.HOME_DEMO="home-demo",e.HOME_LEAD="home-lead",e.HOME_ONBOARDING="home-onboarding",e.HOME_LIVE="home-live",e.HOME="home",e.REFERRAL="referrer-activity",e.NEW_USER_SIGNUP="new-user-signup",e.NEW_USER_PURCHASES="new-user-purchases",e.RECOMMENDATIONS="recommendations",e.ONBOARDING_TASKS="onboarding-tasks"})(je||(je={}));var ze;(function(e){e.FIRST_SUCCESSFUL_SHARE="first-successful-share",e.FIRST_REWARD_EARNED="first-reward-earned",e.NEW_REWARD_EARNED="new-reward-earned",e.UNCLAIMED_REWARDS="unclaimed-rewards",e.NEW_SIGNUP="new-signup",e.DEMO_BOOKED="demo-booked",e.DEMO_DONE="demo-done",e.WELCOME="welcome",e.INVITE_NEW_PORTAL_USER="invite-new-portal-user",e.INVITE_PARTNER_USER="invite-partner-user",e.RESET_PORTAL_PASSWORD="reset-portal-password"})(ze||(ze={}));var Ze;(function(e){e.Signal="signal"})(Ze||(Ze={}));var Je;(function(e){e.Percentage="percentage",e.Fixed="fixed"})(Je||(Je={}));var qe;(function(e){e.FOUNDER_ENTREPRENEUR="founder-entrepreneur",e.GROWTH="growth",e.MARKETING="marketing",e.PRODUCT="product",e.ENGINEERING="engineering",e.DESIGN="design",e.SALES="sales",e.OTHER="other"})(qe||(qe={}));var Qe;(function(e){e.STRIPE="stripe",e.CHARGEBEE="chargebee",e.OTHER="other",e.NOT_SURE="not-sure"})(Qe||(Qe={}));var Xe;(function(e){e.FREEMIUM="freemium",e.FREE_TRIAL="free-trial",e.DEMO_ONLY="demo-only",e.OTHER="other"})(Xe||(Xe={}));var en;(function(e){e.LESS_THAN_1K="less-than-1k",e.RANGE_1_10K="1-10k",e.RANGE_10_50K="10-50k",e.RANGE_50_200K="50-200k",e.MORE_THAN_200K="200k+"})(en||(en={}));var nn;(function(e){e.PEER_RECOMMENDATION="peer-recommendation",e.SEEN_IN_ANOTHER_PRODUCT="seen-in-another-product",e.SOCIAL_MEDIA="social-media",e.PRODUCT_HUNT="product-hunt",e.BLOG_POST="blog-post",e.SEARCH_ENGINE="search-engine",e.ON_SITE_EVENT="on-site-event",e.OTHER="other"})(nn||(nn={}));var rn;(function(e){e.REVEAL_SECRET="REVEAL_SECRET",e.NEW_USER_LOGIN="NEW_USER_LOGIN"})(rn||(rn={}));var an;(function(e){e.ACCEPT="accept",e.REJECT="reject"})(an||(an={}));var tn;(function(e){e.STRIPE="stripe",e.CHARGEBEE="chargebee",e.OTHER="other",e.UNKNOWN="unknown"})(tn||(tn={}));var on;(function(e){e.Developer="Developer",e.GrowthManager="GrowthManager",e.All="All"})(on||(on={}));var sn;(function(e){e.COPY="powerplay",e.EMAIL="email",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.MOBILE="mobile",e.XING="xing",e.WHATSAPP="whatsapp",e.TELEGRAM="telegram"})(sn||(sn={}));var cn;(function(e){e.NEW="new",e.UNREAD="unread",e.READ="read"})(cn||(cn={}));var N;(function(e){e.LINK_CLICKED="product-landing-page-visited",e.PRODUCT_PURCHASED="product-purchased",e.REWARD_TO_CLAIM="reward",e.MISSING_PAYMENT_DETAILS="missing-payment-details",e.PAYOUT_SUCCESSFUL="payout-successful",e.PAYOUT_UNCLAIMED="payout-unclaimed",e.PAYOUT_CANCELED="payout-canceled",e.PAYOUT_UNCLAIMED_REMINDER="payout-unclaimed-reminder",e.PAYOUT_EMAIL_CHANGED="payout-email-changed",e.TOTAL_EARNED_REWARDS_MODIFIED="total-earned-rewards-modified",e.PAYMENT_DETAILS_SAVED="payment-details-saved",e.WELCOME="welcome",e.FIRST_IN_PRODUCT_REWARD="first-in-product-reward",e.CREDIT_NOTES_RECEIVED="credit-notes-received",e.TAX_INFORMATION="tax-information",e.CHANGE_PAYMENT_DETAILS="change-payment-details",e.USER_MIGRATION_ACCOUNT_CONFIRMATION="user-migration-account-confirmation"})(N||(N={}));N.MISSING_PAYMENT_DETAILS,N.PAYOUT_SUCCESSFUL,N.PAYOUT_UNCLAIMED,N.PAYOUT_CANCELED,N.PAYOUT_UNCLAIMED_REMINDER,N.PAYOUT_EMAIL_CHANGED,N.PAYMENT_DETAILS_SAVED,N.WELCOME,N.FIRST_IN_PRODUCT_REWARD,N.CREDIT_NOTES_RECEIVED,N.TAX_INFORMATION,N.CHANGE_PAYMENT_DETAILS,N.USER_MIGRATION_ACCOUNT_CONFIRMATION;N.PRODUCT_PURCHASED,N.REWARD_TO_CLAIM;var ln;(function(e){e.WELCOME="welcome",e.MISSING_PAYMENT_DETAILS="missing-payment-details",e.PAYOUT_SUCCESSFUL="payout-successful",e.PAYOUT_UNCLAIMED="payout-unclaimed",e.PAYOUT_CANCELED="payout-canceled"})(ln||(ln={}));var _n;(function(e){e.REFERER="referer",e.REFEREE="referee"})(_n||(_n={}));var dn;(function(e){e.VISITED="VISITED",e.PURCHASED="PURCHASED"})(dn||(dn={}));var un;(function(e){e.V1="v1"})(un||(un={}));var pn;(function(e){e.SHARE="SHARE",e.PRODUCT="PRODUCT"})(pn||(pn={}));var fn;(function(e){e.V1="v1"})(fn||(fn={}));var mn;(function(e){e.ROUND="round",e.EDGE="edge"})(mn||(mn={}));var m;(function(e){e.UnitedStates="US",e.Afghanistan="AF",e.AlandIslands="AX",e.Albania="AL",e.Algeria="DZ",e.AmericanSamoa="AS",e.Andorra="AD",e.Angola="AO",e.Anguilla="AI",e.Antarctica="AQ",e.AntiguaAndBarbuda="AG",e.Argentina="AR",e.Armenia="AM",e.Aruba="AW",e.Australia="AU",e.Austria="AT",e.Azerbaijan="AZ",e.Bahamas="BS",e.Bahrain="BH",e.Bangladesh="BD",e.Barbados="BB",e.Belarus="BY",e.Belgium="BE",e.Belize="BZ",e.Benin="BJ",e.Bermuda="BM",e.Bhutan="BT",e.Bolivia="BO",e.BonaireSintEustatiusSaba="BQ",e.BosniaAndHerzegovina="BA",e.Botswana="BW",e.BouvetIsland="BV",e.Brazil="BR",e.BritishIndianOceanTerritory="IO",e.BruneiDarussalam="BN",e.Bulgaria="BG",e.BurkinaFaso="BF",e.Burundi="BI",e.Cambodia="KH",e.Cameroon="CM",e.Canada="CA",e.CapeVerde="CV",e.CaymanIslands="KY",e.CentralAfricanRepublic="CF",e.Chad="TD",e.Chile="CL",e.China="CN",e.ChristmasIsland="CX",e.CocosKeelingIslands="CC",e.Colombia="CO",e.Comoros="KM",e.Congo="CG",e.CongoDemocraticRepublic="CD",e.CookIslands="CK",e.CostaRica="CR",e.CoteDIvoire="CI",e.Croatia="HR",e.Cuba="CU",e.Cura\u00E7ao="CW",e.Cyprus="CY",e.CzechRepublic="CZ",e.Denmark="DK",e.Djibouti="DJ",e.Dominica="DM",e.DominicanRepublic="DO",e.Ecuador="EC",e.Egypt="EG",e.ElSalvador="SV",e.EquatorialGuinea="GQ",e.Eritrea="ER",e.Estonia="EE",e.Ethiopia="ET",e.FalklandIslands="FK",e.FaroeIslands="FO",e.Fiji="FJ",e.Finland="FI",e.France="FR",e.FrenchGuiana="GF",e.FrenchPolynesia="PF",e.FrenchSouthernTerritories="TF",e.Gabon="GA",e.Gambia="GM",e.Georgia="GE",e.Germany="DE",e.Ghana="GH",e.Gibraltar="GI",e.Greece="GR",e.Greenland="GL",e.Grenada="GD",e.Guadeloupe="GP",e.Guam="GU",e.Guatemala="GT",e.Guernsey="GG",e.Guinea="GN",e.GuineaBissau="GW",e.Guyana="GY",e.Haiti="HT",e.HeardIslandMcdonaldIslands="HM",e.HolySeeVaticanCityState="VA",e.Honduras="HN",e.HongKong="HK",e.Hungary="HU",e.Iceland="IS",e.India="IN",e.Indonesia="ID",e.Iran="IR",e.Iraq="IQ",e.Ireland="IE",e.IsleOfMan="IM",e.Israel="IL",e.Italy="IT",e.Jamaica="JM",e.Japan="JP",e.Jersey="JE",e.Jordan="JO",e.Kazakhstan="KZ",e.Kenya="KE",e.Kiribati="KI",e.Korea="KR",e.KoreaDemocraticPeoplesRepublic="KP",e.Kuwait="KW",e.Kyrgyzstan="KG",e.LaoPeoplesDemocraticRepublic="LA",e.Latvia="LV",e.Lebanon="LB",e.Lesotho="LS",e.Liberia="LR",e.LibyanArabJamahiriya="LY",e.Liechtenstein="LI",e.Lithuania="LT",e.Luxembourg="LU",e.Macao="MO",e.Macedonia="MK",e.Madagascar="MG",e.Malawi="MW",e.Malaysia="MY",e.Maldives="MV",e.Mali="ML",e.Malta="MT",e.MarshallIslands="MH",e.Martinique="MQ",e.Mauritania="MR",e.Mauritius="MU",e.Mayotte="YT",e.Mexico="MX",e.Micronesia="FM",e.Moldova="MD",e.Monaco="MC",e.Mongolia="MN",e.Montenegro="ME",e.Montserrat="MS",e.Morocco="MA",e.Mozambique="MZ",e.Myanmar="MM",e.Namibia="NA",e.Nauru="NR",e.Nepal="NP",e.Netherlands="NL",e.NewCaledonia="NC",e.NewZealand="NZ",e.Nicaragua="NI",e.Niger="NE",e.Nigeria="NG",e.Niue="NU",e.NorfolkIsland="NF",e.NorthernMarianaIslands="MP",e.Norway="NO",e.Oman="OM",e.Pakistan="PK",e.Palau="PW",e.PalestinianTerritory="PS",e.Panama="PA",e.PapuaNewGuinea="PG",e.Paraguay="PY",e.Peru="PE",e.Philippines="PH",e.Pitcairn="PN",e.Poland="PL",e.Portugal="PT",e.PuertoRico="PR",e.Qatar="QA",e.Reunion="RE",e.Romania="RO",e.RussianFederation="RU",e.Rwanda="RW",e.SaintBarthelemy="BL",e.SaintHelena="SH",e.SaintKittsAndNevis="KN",e.SaintLucia="LC",e.SaintMartin="MF",e.SaintPierreAndMiquelon="PM",e.SaintVincentAndGrenadines="VC",e.Samoa="WS",e.SanMarino="SM",e.SaoTomeAndPrincipe="ST",e.SaudiArabia="SA",e.Senegal="SN",e.Serbia="RS",e.Seychelles="SC",e.SierraLeone="SL",e.Singapore="SG",e.SintMaarten="SX",e.Slovakia="SK",e.Slovenia="SI",e.SolomonIslands="SB",e.Somalia="SO",e.SouthAfrica="ZA",e.SouthGeorgiaAndSandwichIsl="GS",e.SouthSudan="SS",e.Spain="ES",e.SriLanka="LK",e.Sudan="SD",e.Suriname="SR",e.SvalbardAndJanMayen="SJ",e.Swaziland="SZ",e.Sweden="SE",e.Switzerland="CH",e.SyrianArabRepublic="SY",e.Taiwan="TW",e.Tajikistan="TJ",e.Tanzania="TZ",e.Thailand="TH",e.TimorLeste="TL",e.Togo="TG",e.Tokelau="TK",e.Tonga="TO",e.TrinidadAndTobago="TT",e.Tunisia="TN",e.Turkey="TR",e.Turkmenistan="TM",e.TurksAndCaicosIslands="TC",e.Tuvalu="TV",e.Uganda="UG",e.Ukraine="UA",e.UnitedArabEmirates="AE",e.UnitedKingdom="GB",e.UnitedStatesOutlyingIslands="UM",e.Uruguay="UY",e.Uzbekistan="UZ",e.Vanuatu="VU",e.Venezuela="VE",e.VietNam="VN",e.VirginIslandsBritish="VG",e.VirginIslandsUS="VI",e.WallisAndFutuna="WF",e.WesternSahara="EH",e.Yemen="YE",e.Zambia="ZM",e.Zimbabwe="ZW"})(m||(m={}));var En;(function(e){e.PAYPAL="PAYPAL",e.VENMO="VENMO"})(En||(En={}));var Ie;(function(e){e.WIDGET_BOOTED="widget-booted",e.FAB_SHOWN="fab-shown",e.WIDGET_OPENED="widget-opened",e.WIDGET_CLOSED="widget-closed",e.SHOW_QR_CODE="show-qr-code",e.HIDE_QR_CODE="hide-qr-code",e.SHARING_OPTION_USED="sharing-option-used",e.CREDIT_NOTES_DOWNLOADED="credit-notes-downloaded",e.PAYMENT_DETAILS_PAGE_OPENED="payment-details-page-opened",e.PAYMENT_DETAILS_PAGE_CLOSED="payment-details-page-closed",e.PAYMENT_DETAILS_SAVED="payment-details-saved",e.ACTION_ON_ALERT_USED="action-on-alert-used",e.FAB_BADGE_UPDATE_EVENT="fab-badge-update-event",e.BRAND_LINK_CLICKED="brand-link-clicked",e.WIDGET_NAVIGATION="widget-navigation",e.ANNOUNCEMENT_DISMISSED="announcement-dismissed",e.TOKEN_EXPIRED="token-expired",e.ONBOARDING_COMPLETED="onboarding-completed",e.ONBOARDING_SKIPPED="onboarding-skipped",e.ONBOARDING_STEP_VISITED="onboarding-step-visited",e.NO_ONBOARDING_WIDGET_OPENED="no-onboarding-widget-opened",e.CALLOUT_DISPLAYED="callout-displayed",e.CALLOUT_DISMISSED="callout-dismissed",e.CALLOUT_ACTION_USED="callout-action-used",e.PRODUCT_PAGE_OPENED="product-page-opened",e.PRODUCT_PAGE_REDIRECTED="product-page-redirected",e.SIGNUP_CLICKED="signup-clicked",e.SHARE_CLICKED="share-clicked",e.QR_CODE_SCANNED="qr-code-scanned",e.PORTAL_NAVIGATION="portal-navigation",e.PORTAL_SIGNIN="portal-signin",e.PORTAL_SIGNOUT="portal-signout",e.PORTAL_DOWNLOAD_CSV="portal-download-csv",e.ATTRIBUTION_PAGE_VISITED="attribution-page-visited"})(Ie||(Ie={}));var hn;(function(e){e.USER="user",e.API="api"})(hn||(hn={}));var gn;(function(e){e.CREATE="Create",e.READ="Read",e.UPDATE="Update",e.DELETE="Delete"})(gn||(gn={}));var le;(function(e){e.Alabama="AL",e.Alaska="AK",e.Arizona="AZ",e.Arkansas="AR",e.California="CA",e.Colorado="CO",e.Connecticut="CT",e.Delaware="DE",e.DistrictOfColumbia="DC",e.Florida="FL",e.Georgia="GA",e.Hawaii="HI",e.Idaho="ID",e.Illinois="IL",e.Indiana="IN",e.Iowa="IA",e.Kansas="KS",e.Kentucky="KY",e.Louisiana="LA",e.Maine="ME",e.Maryland="MD",e.Massachusetts="MA",e.Michigan="MI",e.Minnesota="MN",e.Mississippi="MS",e.Missouri="MO",e.Montana="MT",e.Nebraska="NE",e.Nevada="NV",e.NewHampshire="NH",e.NewJersey="NJ",e.NewMexico="NM",e.NewYork="NY",e.NorthCarolina="NC",e.NorthDakota="ND",e.Ohio="OH",e.Oklahoma="OK",e.Oregon="OR",e.Pennsylvania="PA",e.RhodeIsland="RI",e.SouthCarolina="SC",e.SouthDakota="SD",e.Tennessee="TN",e.Texas="TX",e.Utah="UT",e.Vermont="VT",e.Virginia="VA",e.Washington="WA",e.WestVirginia="WV",e.Wisconsin="WI",e.Wyoming="WY"})(le||(le={}));var An;(function(e){e.CLICKABLE="clickable",e.ENABLED="enabled"})(An||(An={}));var In;(function(e){e.None="none",e.Onboarding="onboarding",e.Invite="invite",e.Rewards="rewards",e.EditPayments="edit-payments",e.EditPaymentsChooseSection="edit-payments-choose-section",e.EditPaymentsPayoutMethod="edit-payments-payout-method",e.EditPaymentsPersonalInformation="edit-payments-personal-information",e.EditPaymentsTaxInformation="edit-payments-tax-information",e.EditPaymentsChangeCountry="edit-payments-change-country",e.HowThisWorks="how-this-works",e.QRCode="qr-code"})(In||(In={}));var Dn;(function(e){e.THREE_STEP="three-step"})(Dn||(Dn={}));var Rn;(function(e){e.UserInterview="user-interview"})(Rn||(Rn={}));var On;(function(e){e.WELCOME_EMAIL="welcome-email",e.ACTIVATION_CAMPAIGN="activation-campaign"})(On||(On={}));var Tn;(function(e){e.CelloSupport="CelloSupport",e.GrowthManager="GrowthManager",e.Developer="Developer",e.Affiliate="Affiliate",e.DemoUser="DemoUser",e.Setup="Setup",e.PartnerManager="PartnerManager"})(Tn||(Tn={}));var vn;(function(e){e.OpsAdmin="OpsAdmin"})(vn||(vn={}));var Nn;(function(e){e.DEMO="demo",e.LEAD="lead",e.ONBOARDING="onboarding",e.LIVE="live"})(Nn||(Nn={}));m.Australia,m.Austria,m.Belgium,m.Brazil,m.Bulgaria,m.Canada,m.Chile,m.CzechRepublic,m.Denmark,m.DominicanRepublic,m.Finland,m.France,m.Germany,m.Greece,m.Guatemala,m.HongKong,m.Hungary,m.India,m.Ireland,m.Israel,m.Italy,m.Japan,m.Netherlands,m.Norway,m.Philippines,m.Poland,m.Portugal,m.Romania,m.SouthAfrica,m.Spain,m.Sweden,m.Switzerland,m.UnitedKingdom,m.UnitedStates,m.Uruguay;Object.keys(le).map(e=>le[e]);const Ir=[{currency:"EUR",symbol:"\u20AC",displayConfig:{suffix:" \u20AC",thousandsSeparator:".",decimalsSeparator:","}},{currency:"USD",symbol:"$",displayConfig:{prefix:"$",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"GBP",symbol:"\xA3",displayConfig:{prefix:"\xA3",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"CHF",symbol:"CHF",displayConfig:{prefix:"CHF ",thousandsSeparator:"\u2019",decimalsSeparator:"."}},{currency:"SEK",symbol:"kr (SEK)",displayConfig:{suffix:" kr",thousandsSeparator:".",decimalsSeparator:","}},{currency:"NOK",symbol:"kr (NOK)",displayConfig:{suffix:" kr",thousandsSeparator:".",decimalsSeparator:","}},{currency:"DKK",symbol:"kr (DKK)",displayConfig:{suffix:" kr",thousandsSeparator:".",decimalsSeparator:","}},{currency:"PLN",symbol:"z\u0142",displayConfig:{suffix:" z\u0142",thousandsSeparator:".",decimalsSeparator:","}},{currency:"CZK",symbol:"K\u010D",displayConfig:{suffix:" K\u010D",thousandsSeparator:".",decimalsSeparator:","}},{currency:"HUF",symbol:"Ft",displayConfig:{suffix:" Ft",thousandsSeparator:".",decimalsSeparator:","}},{currency:"JPY",symbol:"\xA5",displayConfig:{prefix:"\xA5 ",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"AUD",symbol:"$ (AUD)",displayConfig:{prefix:"$",suffix:" (AUD)",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"CAD",symbol:"$ (CAD)",displayConfig:{suffix:" $ (CAD)",thousandsSeparator:".",decimalsSeparator:","}},{currency:"INR",symbol:"\u20B9",displayConfig:{prefix:"\u20B9 ",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"KRW",symbol:"\u20A9",displayConfig:{prefix:"\u20A9 ",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"SGD",symbol:"$ (SGD)",displayConfig:{prefix:"$",suffix:" (SGD)",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"NZD",symbol:"$ (NZD)",displayConfig:{prefix:"$ ",suffix:" (NZD)",thousandsSeparator:",",decimalsSeparator:"."}},{currency:"BRL",symbol:"R$",displayConfig:{prefix:"R$ ",thousandsSeparator:".",decimalsSeparator:","}}],Dr=e=>Object.keys(e).reduce((n,r)=>{if(e[r]===void 0)return{...n,[r]:void 0};switch(r){case"revenuePercentage":return{...n,revenuePercentage:Sn(e.revenuePercentage)};case"rewardCap":return e.primaryCurrency?{...n,rewardCap:me(e.rewardCap,e.primaryCurrency)}:n;case"newSignupBonus":return e.primaryCurrency?{...n,newSignupBonus:me(e.newSignupBonus,e.primaryCurrency)}:n;case"newPurchaseBonus":return e.primaryCurrency?{...n,newPurchaseBonus:me(e.newPurchaseBonus,e.primaryCurrency)}:n;case"newUserDiscountPercentage":return{...n,newUserDiscountPercentage:Sn(e.newUserDiscountPercentage)};default:return{...n,[r]:e[r]}}},{}),Sn=e=>`${(e*100).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}%`,me=(e,n)=>{const r=Rr(n);if(!r)throw new Error(`Currency configuration not found for code: ${n}`);const{prefix:a,suffix:o,thousandsSeparator:t,decimalsSeparator:s}=r.displayConfig;let c=e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return c=c.replace(/\./g,"<DECIMAL>").replace(/,/g,t).replace(/<DECIMAL>/g,s),`${a!=null?a:""}${c!=null?c:""}${o!=null?o:""}`},Rr=e=>Ir.find(n=>n.currency===e),Or=(e,n=0)=>n>1?`${e}-plural`:`${e}-singular`,Tr=["google","bing","yahoo","baidu","yandex","duckduckgo","ask","aol"],vr=e=>{if(!e)return!1;try{const{hostname:n}=new URL(e);return Tr.some(r=>n.includes(r))}catch{return!1}},qn=e=>{if(e==null)return{potentialAds:!1,searchEngine:!1};const n=(e&1<<0)!==0,r=(e&1<<1)!==0;return{potentialAds:n,searchEngine:r}},D={brand:"cello",referralInputName:"referral",cookieExpirationTimeDays:90,referralCodeKey:"ucc",productIdKey:"productId",sourceKey:"celloSource",nameKey:"celloN",googleGclidKey:"gclid",celloCookiePrefix:"cello-",celloCookieConsentKey:"cello-cookie-consent",referralCookieKey:"cello-referral",productIdCookieKey:"cello-product-id",sourceCookieKey:"cello-source",oneTrustCookieKey:"OptanonConsent",linkAttributesKey:"la"},Pn="100px",Nr=e=>{var t,s,c,_,p;const n=e.position==="top"?(s=(t=e.positionOffset)==null?void 0:t.y)!=null?s:Pn:"auto",r=e.position==="bottom"?(_=(c=e.positionOffset)==null?void 0:c.y)!=null?_:Pn:"auto",a=(p=e.positionOffset)!=null&&p.x?`calc(50% + ${e.positionOffset.x})`:"50%",o=e.zIndex||"auto";return`
    position: fixed;
    top: ${n};
    bottom: ${r};
    left: ${a};
    width: 100%;
    max-width: 38.313rem;
    padding: 0 1rem;
    transform: translate(-50%, 0);
    z-index: ${o};
    box-sizing: border-box;`},Sr=e=>`
  display: flex;
  position: relative;
  padding: 0.688rem 4.25rem 0.813rem 0.75rem;
  border-radius: 8px;
  background: ${e.bgColor};
  color: ${e.color};
  font-family: Lato, sans-serif;
  font-size: 0.875rem;
  font-weight: normal;
  letter-spacing: 0.009rem;
  line-height: 1.313rem;
  gap: 4px;
`,Pr=e=>`
  color: ${e.color};
  font-weight: 700;
  text-decoration: none;
`,br=e=>`
  display: flex;
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  width: 1.5rem;
  height: 1.5rem;
  padding: 0;
  border: none;
  background: none;
  color: ${e.color};
  cursor: pointer;
  align-items: center;
  justify-content: center;
`,Lr=()=>{var h,g,I,T;const{productLandingData:e,name:n,ucc:r,productId:a,nameEncodedRawValue:o}=ve(pe),[t,s]=Te(!1),c=(h=e==null?void 0:e.config)==null?void 0:h.banner,_=K(()=>{s(!0)},[]),p=O=>{if(O==null||O.length===0)return!0;const C=window.location.href;return O.some(L=>L.type==="regex"?new RegExp(L.value).test(C):!1)},i=()=>{var L;const O={...u,productName:(L=e==null?void 0:e.config)==null?void 0:L.productName,name:n},C=M=>{if(!M||!l)return null;if(l[M]){const ne=l[M];return ne?$e(ne,O):void 0}const X=Or(M,u==null?void 0:u.newUserDiscountMonth),ee=l[X];if(!!ee)return $e(ee,O)};return C(n?"personalPromotion":"promotion")},A=ue(()=>{if(!c||!c.actionUrl)return"";try{const O=new URL(c.actionUrl);return r&&O.searchParams.set(D.referralCodeKey,r),a&&O.searchParams.set(D.productIdKey,a),o&&O.searchParams.set(D.nameKey,o),O.toString()}catch{return c.actionUrl}},[r,a,o,c]);if(t||!e||!((I=(g=e.config)==null?void 0:g.banner)!=null&&I.enabled)||!p(e.config.banner.urlPattern)||!(e!=null&&e.campaignConfig))return null;const u=Dr(e.campaignConfig),l=(T=e.labels)==null?void 0:T.banner,d=e.config.banner,R=i(),E=" "+(l==null?void 0:l["signup-link"]);return P("div",{style:Nr(d),id:F.BANNER_NODE_ID,"data-testid":"cello-banner",children:Fe("div",{style:Sr(d),children:[P(Ar,{}),Fe("span",{children:[R,(c==null?void 0:c.actionUrl)&&P("a",{style:Pr(d),"data-testid":"action-url",href:A,children:E})]}),P("button",{style:br(d),"data-testid":"close-banner",onClick:_,children:P(gr,{})})]})})};function Mr(){let e=navigator.language.substring(0,2);return e==="ja"&&(e="jp"),e}const Ne="[CelloAttribution]: ",kr=(e,...n)=>{F.LOGGING_ENABLED&&console.info(Ne,e,...n)},wr=(e,...n)=>{F.LOGGING_ENABLED&&console.error(Ne,e,...n)},Gr=(e,...n)=>{F.LOGGING_ENABLED&&console.warn(Ne,e,...n)},G={info:kr,error:wr,warn:Gr};let _e,Qn,Z;const Cr=()=>{_e=new Promise((e,n)=>{Qn=e,Z=n}),_e.catch(()=>{})};Cr();const Br=async(e,n)=>{if(!n||!e)throw new Error("Missing productId or ucc");const r=Mr(),a=await fetch(`${F.API_URL}/products/${e}/attribution/product-landing/${n}?lang=${r}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(!a.ok){const o="Could not fetch product landing data";throw G.error(o),Z("CouldNotFetch"),new Error(o)}try{const o=await a.json();return Qn(o),o}catch(o){throw G.error("Couldn't parse response",o),Z("CouldNotParseResponse"),o}},Ur=e=>{const n=atob(e.replace(/_/g,"/").replace(/-/g,"+")),r=Uint8Array.from(n,o=>o.charCodeAt(0));return new TextDecoder("utf-8").decode(r)},Xn=()=>{var _,p,i,A,u;const e=new URLSearchParams(window.location.search),n=(_=e.get(D.productIdKey))!=null?_:null,r=(p=e.get(D.referralCodeKey))!=null?p:null,a=(i=e.get(D.sourceKey))!=null?i:null,o=(A=e.get(D.nameKey))!=null?A:null,t=Ur(o||"")||null,s=(u=e.get(D.googleGclidKey))!=null?u:null;let c=e.get(D.linkAttributesKey)?Number(e.get(D.linkAttributesKey)):null;return c!==null&&isNaN(c)&&(G.error("LinkAttributes has non-numeric value:",c),c=null),{productId:n,name:t,nameEncodedRawValue:o,ucc:r,source:a,gclid:s,linkAttributes:c}};/*! js-cookie v3.0.5 | MIT */function re(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)e[a]=r[a]}return e}var xr={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function De(e,n){function r(o,t,s){if(typeof document!="undefined"){s=re({},n,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var _ in s)!s[_]||(c+="; "+_,s[_]!==!0&&(c+="="+s[_].split(";")[0]));return document.cookie=o+"="+e.write(t,o)+c}}function a(o){if(!(typeof document=="undefined"||arguments.length&&!o)){for(var t=document.cookie?document.cookie.split("; "):[],s={},c=0;c<t.length;c++){var _=t[c].split("="),p=_.slice(1).join("=");try{var i=decodeURIComponent(_[0]);if(s[i]=e.read(p,i),o===i)break}catch{}}return o?s[o]:s}}return Object.create({set:r,get:a,remove:function(o,t){r(o,"",re({},t,{expires:-1}))},withAttributes:function(o){return De(this.converter,re({},this.attributes,o))},withConverter:function(o){return De(re({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var B=De(xr,{path:"/"});const j=e=>{const n=B.get(e);return n?decodeURIComponent(n):null},Hr=()=>{const e=j(D.referralCookieKey),n=j(D.productIdCookieKey),r=j(D.sourceCookieKey);return{ucc:e,productId:n,source:r}},oe=(e,n)=>{const r=D.cookieExpirationTimeDays,a=er();let o;a&&(B.set(e,n,{expires:r,path:"/",domain:a}),o=B.get(e)),(o!==n||!a)&&B.set(e,n,{expires:r,path:"/"})},er=()=>{const e=(window==null?void 0:window.location)&&window.location.hostname;if(!(!e||!Kr(e)))return"."+Vr(e)},Kr=e=>Boolean(e.includes(".")),Vr=e=>{const n=e.split(".").reverse();return`${n[1]}.${n[0]}`},Fr=async e=>{if(!(await fetch(`${F.ANALYTICS_API_URL}/batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch:[e]})})).ok)throw new Error("Could not post analytic event")},$r=e=>{const n=B.get(),r=er();Object.keys(n).forEach(a=>{a.startsWith(e)&&(r&&B.remove(a,{path:"/",domain:r}),B.remove(a,{path:"/"}))})},Wr=()=>{const{ucc:e,name:n,gclid:r,isSearchEngineReferrer:a,dispatchToAppContext:o}=ve(pe),{linkAttributes:t,ucc:s}=Xn(),{potentialAds:c,searchEngine:_}=qn(t),p=Boolean(s)&&Boolean(r)||c,i=Boolean(a)||_,A=K(()=>{oe(D.celloCookieConsentKey,"true"),o({type:S.updateCustomCookiesPolicyConsent,payload:!0})},[o]),u=K(()=>{$r(D.celloCookiePrefix),o({type:S.updateCustomCookiesPolicyConsent,payload:!1})},[o]),l=K(d=>{const R=()=>document.querySelectorAll(`form[data-${D.brand}]`),E=g=>{const I=document.createElement("input");return I.type="hidden",I.name=D.referralInputName,I.value=g,I};if(!e)return;(d!=null?d:R()).forEach(g=>{if(g.querySelector(`input[name=${D.referralInputName}]`))G.warn("Form ",g,' already contains input with name "referral"');else{const I=E(e);g.appendChild(I)}})},[e]);return H(()=>{const d=async(R,...E)=>{var h,g;switch(R){case"getUcc":return e;case"attachAll":{l();return}case"getReferrerName":return n;case"checkLinkAttributes":return{potentialAds:p,searchEngine:i};case"allowCookies":{let I;try{I=await _e}catch(O){return O==="MissingProductIdOrUcc"?Promise.resolve():Promise.reject("Error calling allowCookies")}if(((g=(h=I==null?void 0:I.config)==null?void 0:h.cookieHandling)==null?void 0:g.type)!==w.Custom)return Promise.reject("Unsupported command: "+R);A();return}case"deleteCookies":{u();return}case"attachTo":{const I=Array.isArray(E[0])?E[0]:[E[0]];l(I);return}default:return G.error("Unsupported command: ",R),Promise.reject("Unsupported command: "+R)}};window.CelloAttribution=(R,...E)=>R==="getReferral"?(console.warn("getReferral is deprecated. Use getUcc instead."),e):d(R,...E)},[e,n,p,i,A,u,l]),H(()=>{!e||!window.CelloAttributionCmd||window.CelloAttributionCmd.forEach(async({command:d,resolve:R,reject:E,args:h})=>{try{const g=await window.CelloAttribution(d,...h);R(g)}catch(g){E(g)}})},[e]),{injectHiddenInputsToForms:l}},ae=e=>{var n;if(!e)return!0;if(e.type===w.Disabled)return!1;if(e.type===w.Custom)return j(D.celloCookieConsentKey)==="true";if(e.type===w.OneTrust){const r=(n=e.oneTrust)==null?void 0:n.expectedGroup;if(!r)return!1;const a=j(D.oneTrustCookieKey);if(!a)return!1;const o=a.split("&"),t={};for(const s of o){const[c,_]=s.split("=");t[c]=_}if(t.groups)return t.groups.split(",").some(c=>c===`${r}:1`)}return!0},yr=3e3,Yr=()=>{const{dispatchToAppContext:e,customCookiesPolicyConsent:n}=ve(pe),[r,a]=Te(!1),o=dr(null),{ucc:t,productId:s,source:c}=Hr(),{ucc:_,productId:p,source:i,name:A,nameEncodedRawValue:u,gclid:l,linkAttributes:d}=Xn(),{potentialAds:R,searchEngine:E}=qn(d),h=_!=null?_:t,g=p!=null?p:s,I=i!=null?i:c,T=vr(document.referrer),O=Boolean(_)&&(Boolean(l)||R),C=Boolean(T)||E,L=K(()=>{h&&oe(D.referralCookieKey,h),g&&oe(D.productIdCookieKey,g),I&&oe(D.sourceCookieKey,I)},[h,g,I]);H(()=>{n&&L()},[n,L]);const M=K(async()=>{var Pe;const ee=v=>{const $=()=>{o.current&&window.clearInterval(o.current),o.current=window.setInterval(()=>{!ae(v)||(L(),o.current&&window.clearInterval(o.current))},yr)};if(!(v&&v.type===w.Disabled))switch(v==null?void 0:v.type){case w.Custom:ae(v)&&e({type:S.updateCustomCookiesPolicyConsent,payload:!0});break;case w.OneTrust:if(!ae(v)){$();return}L();break;case void 0:ae(v)&&L();break;default:G.error("Unknown cookies policy handling type");break}},ne=async(v,$)=>{let x={};try{Br(v,$),x=await _e}catch(fe){G.error(fe)}return e({type:S.updateProductLandingData,payload:x}),x},nr=(v,$,x,fe,rr)=>{const ar={productId:v,referrerId:null,ucc:$,attributionSource:x,paramKeysFromUrl:fe,timestamp:new Date,type:Ie.ATTRIBUTION_PAGE_VISITED,linkAttributes:rr,appVersion:"1.49.0"};return Fr(ar)};if(r){G.warn("Widget already initialized");return}if(!h){Z("MissingProductIdOrUcc");return}const U=[];p&&U.push("productId"),_&&U.push("ucc"),i&&U.push("attributionSource"),l&&U.push("gclid"),d&&U.push("la"),nr(g,h,I,U.join(","),{potentialAds:O,searchEngine:C}),e({type:S.updateSearchEngineReferrer,payload:T}),e({type:S.updateQueryParamsData,payload:{productId:g,ucc:h,name:A,nameEncodedRawValue:u,gclid:l}});let Se;if(p&&_){const v=await ne(p,_);Se=(Pe=v==null?void 0:v.config)==null?void 0:Pe.cookieHandling,ee(Se)}else Z("MissingProductIdOrUcc");a(!0)},[e,L,r,l,T,A,u,g,_,p,i,I,h,d,O,C]);H(()=>{!M||r||M()},[M,r]);const{injectHiddenInputsToForms:X}=Wr();return H(()=>{X()},[X]),r?P(Lr,{}):null};function jr(){const[e,n]=Te(!1);return H(()=>{const r=a=>{a.target&&a.target.readyState==="complete"&&n(!0)};return document.addEventListener("readystatechange",r),document.readyState==="complete"&&n(!0),()=>{document.removeEventListener("readystatechange",r)}},[]),e?P(hr,{children:P(Yr,{})}):null}(function(){const e=()=>{const r=document.createElement("div");return r.attachShadow({mode:"open"}),r.id="attribution-widget",r.style.all="initial",r},n=()=>{if(document.body){const r=e();document.body.appendChild(r),Oe(P(jr,{}),r.shadowRoot)}else new MutationObserver((a,o)=>{document.body&&(o.disconnect(),n())}).observe(document.documentElement,{childList:!0})};n()})();
